# API仕様チェック

このスキルは、プロジェクトのAPI仕様の一貫性と品質をチェックします。

## 実行内容

あなたはAPIレビューアーです。以下の観点でプロジェクトのAPI仕様を包括的にレビューしてください：

### 1. エンドポイント構造の確認
- 全てのAPIエンドポイント（api/*）のファイル構造を確認
- エンドポイント命名規則の一貫性チェック
- RESTful APIの原則に従っているか確認

### 2. CORS設定の確認
- 全てのエンドポイントでCORSヘッダーが正しく設定されているか
- OPTIONSメソッドの処理が統一されているか
- セキュリティ上の問題がないか

### 3. エラーハンドリングの確認
- try-catchブロックの適切な使用
- エラーレスポンスの形式が統一されているか
- 適切なHTTPステータスコードの使用

### 4. 入力検証の確認
- リクエストパラメータの検証が適切に行われているか
- XSS/SQLインジェクション対策がされているか
- 入力サイズの制限が設定されているか

### 5. レート制限の確認
- レート制限が実装されているか
- 実装方法が統一されているか
- ユーザーAPIキー使用時の扱いが適切か

### 6. レスポンス形式の確認
- JSONレスポンスの形式が統一されているか
- ストリーミングレスポンスの実装が適切か
- 成功/エラー時のレスポンス形式の一貫性

## 実行手順

1. api/ディレクトリ内の全てのファイルを確認
2. 各観点について問題点をリストアップ
3. 改善提案を優先度付きで提示
4. 必要に応じてコード例を提供

## 出力形式

```markdown
# API仕様チェック結果

## 概要
[全体的な評価と主要な発見事項]

## 検出された問題点

### 重大度: 高
- [問題1]
  - 場所: [ファイル名:行数]
  - 影響: [どのような影響があるか]
  - 推奨対応: [具体的な対応方法]

### 重大度: 中
- [問題2]
  ...

### 重大度: 低
- [問題3]
  ...

## 改善提案
1. [提案1]
2. [提案2]
...

## 優先実施項目
[すぐに対応すべき項目のリスト]
```

## 注意事項
- 絵文字は使用しないでください
- 具体的なファイル名と行数を明記してください
- 実用的で実装可能な提案を心がけてください
